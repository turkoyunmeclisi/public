!function(a,b){"use strict";"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.baguetteBox=b()}(this,function(){"use strict";function a(a,c){N.transforms=u(),N.svg=v(),e(),d(a),b(a,c)}function b(a,b){var c=document.querySelectorAll(a),d={galleries:[],nodeList:c};T[a]=d,[].forEach.call(c,function(a){b&&b.filter&&(S=b.filter);var c=[];if(c="A"===a.tagName?[a]:a.getElementsByTagName("a"),c=[].filter.call(c,function(a){return S.test(a.href)}),0!==c.length){var e=[];[].forEach.call(c,function(a,c){var d=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1,i(e,b),k(c)},f={eventHandler:d,imageElement:a};y(a,"click",d),e.push(f)}),d.galleries.push(e)}})}function c(){for(var a in T)T.hasOwnProperty(a)&&d(a)}function d(a){if(T.hasOwnProperty(a)){var b=T[a].galleries;[].forEach.call(b,function(a){[].forEach.call(a,function(a){z(a.imageElement,"click",a.eventHandler)}),O===a&&(O=[])}),delete T[a]}}function e(){return(D=A("baguetteBox-overlay"))?(E=A("baguetteBox-slider"),F=A("previous-button"),G=A("next-button"),void(H=A("close-button"))):(D=B("div"),D.setAttribute("role","dialog"),D.id="baguetteBox-overlay",document.getElementsByTagName("body")[0].appendChild(D),E=B("div"),E.id="baguetteBox-slider",D.appendChild(E),F=B("button"),F.setAttribute("type","button"),F.id="previous-button",F.setAttribute("aria-label","Previous"),F.innerHTML=N.svg?I:"&lt;",D.appendChild(F),G=B("button"),G.setAttribute("type","button"),G.id="next-button",G.setAttribute("aria-label","Next"),G.innerHTML=N.svg?J:"&gt;",D.appendChild(G),H=B("button"),H.setAttribute("type","button"),H.id="close-button",H.setAttribute("aria-label","Close"),H.innerHTML=N.svg?K:"&times;",D.appendChild(H),F.className=G.className=H.className="baguetteBox-button",void g())}function f(a){switch(a.keyCode){case 37:s();break;case 39:r();break;case 27:o()}}function g(){y(D,"click",W),y(F,"click",X),y(G,"click",Y),y(H,"click",Z),y(D,"touchstart",$),y(D,"touchmove",_),y(D,"touchend",aa),y(document,"focus",ba,!0)}function h(){z(D,"click",W),z(F,"click",X),z(G,"click",Y),z(H,"click",Z),z(D,"touchstart",$),z(D,"touchmove",_),z(D,"touchend",aa),z(document,"focus",ba,!0)}function i(a,b){if(O!==a){for(O=a,j(b);E.firstChild;)E.removeChild(E.firstChild);U.length=0;for(var c,d=[],e=[],f=0;f<a.length;f++)c=B("div"),c.className="full-image",c.id="baguette-img-"+f,U.push(c),d.push("baguetteBox-figure-"+f),e.push("baguetteBox-figcaption-"+f),E.appendChild(U[f]);D.setAttribute("aria-labelledby",d.join(" ")),D.setAttribute("aria-describedby",e.join(" "))}}function j(a){a||(a={});for(var b in M)L[b]=M[b],"undefined"!=typeof a[b]&&(L[b]=a[b]);E.style.transition=E.style.webkitTransition="fadeIn"===L.animation?"opacity .4s ease":"slideIn"===L.animation?"":"none","auto"===L.buttons&&("ontouchstart"in window||1===O.length)&&(L.buttons=!1),F.style.display=G.style.display=L.buttons?"":"none";try{D.style.backgroundColor=L.overlayBackgroundColor}catch(a){}}function k(a){L.noScrollbars&&(document.documentElement.style.overflowY="hidden",document.body.style.overflowY="scroll"),"block"!==D.style.display&&(y(document,"keydown",f),P=a,Q={count:0,startX:null,startY:null},p(P,function(){w(P),x(P)}),t(),D.style.display="block",L.fullScreen&&m(),setTimeout(function(){D.className="visible",L.afterShow&&L.afterShow()},50),L.onChange&&L.onChange(P,U.length),V=document.activeElement,l())}function l(){L.buttons?F.focus():H.focus()}function m(){D.requestFullscreen?D.requestFullscreen():D.webkitRequestFullscreen?D.webkitRequestFullscreen():D.mozRequestFullScreen&&D.mozRequestFullScreen()}function n(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}function o(){L.noScrollbars&&(document.documentElement.style.overflowY="auto",document.body.style.overflowY="auto"),"none"!==D.style.display&&(z(document,"keydown",f),D.className="",setTimeout(function(){D.style.display="none",n(),L.afterHide&&L.afterHide()},500),V.focus())}function p(a,b){var c=U[a];if("undefined"!=typeof c){if(c.getElementsByTagName("img")[0])return void(b&&b());var d=O[a].imageElement,e=d.getElementsByTagName("img")[0],f="function"==typeof L.captions?L.captions.call(O,d):d.getAttribute("data-caption")||d.title,g=q(d),h=B("figure");if(h.id="baguetteBox-figure-"+a,h.innerHTML='<div class="baguetteBox-spinner"><div class="baguetteBox-double-bounce1"></div><div class="baguetteBox-double-bounce2"></div></div>',L.captions&&f){var i=B("figcaption");i.id="baguetteBox-figcaption-"+a,i.innerHTML=f,h.appendChild(i)}c.appendChild(h);var j=B("img");j.onload=function(){var c=document.querySelector("#baguette-img-"+a+" .baguetteBox-spinner");h.removeChild(c),!L.async&&b&&b()},j.setAttribute("src",g),j.alt=e?e.alt||"":"",L.titleTag&&f&&(j.title=f),h.appendChild(j),L.async&&b&&b()}}function q(a){var b=a.href;if(a.dataset){var c=[];for(var d in a.dataset)"at-"!==d.substring(0,3)||isNaN(d.substring(3))||(c[d.replace("at-","")]=a.dataset[d]);for(var e=Object.keys(c).sort(function(a,b){return parseInt(a,10)<parseInt(b,10)?-1:1}),f=window.innerWidth*window.devicePixelRatio,g=0;g<e.length-1&&e[g]<f;)g++;b=c[e[g]]||b}return b}function r(){var a;return P<=U.length-2?(P++,t(),w(P),a=!0):L.animation&&(E.className="bounce-from-right",setTimeout(function(){E.className=""},400),a=!1),L.onChange&&L.onChange(P,U.length),a}function s(){var a;return P>=1?(P--,t(),x(P),a=!0):L.animation&&(E.className="bounce-from-left",setTimeout(function(){E.className=""},400),a=!1),L.onChange&&L.onChange(P,U.length),a}function t(){var a=100*-P+"%";"fadeIn"===L.animation?(E.style.opacity=0,setTimeout(function(){N.transforms?E.style.transform=E.style.webkitTransform="translate3d("+a+",0,0)":E.style.left=a,E.style.opacity=1},400)):N.transforms?E.style.transform=E.style.webkitTransform="translate3d("+a+",0,0)":E.style.left=a}function u(){var a=B("div");return"undefined"!=typeof a.style.perspective||"undefined"!=typeof a.style.webkitPerspective}function v(){var a=B("div");return a.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(a.firstChild&&a.firstChild.namespaceURI)}function w(a){a-P>=L.preload||p(a+1,function(){w(a+1)})}function x(a){P-a>=L.preload||p(a-1,function(){x(a-1)})}function y(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent("on"+b,c)}function z(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent("on"+b,c)}function A(a){return document.getElementById(a)}function B(a){return document.createElement(a)}function C(){h(),c(),z(document,"keydown",f),document.getElementsByTagName("body")[0].removeChild(document.getElementById("baguetteBox-overlay")),T={},O=[],P=0}var D,E,F,G,H,I='<svg width="44" height="60"><polyline points="30 10 10 30 30 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>',J='<svg width="44" height="60"><polyline points="14 10 34 30 14 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>',K='<svg width="30" height="30"><g stroke="rgb(160,160,160)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"/><line x1="5" y1="25" x2="25" y2="5"/></g></svg>',L={},M={captions:!0,fullScreen:!1,noScrollbars:!1,titleTag:!1,buttons:"auto",async:!1,preload:2,animation:"slideIn",afterShow:null,afterHide:null,onChange:null,overlayBackgroundColor:"rgba(0,0,0,.8)"},N={},O=[],P=0,Q={},R=!1,S=/.+\.(gif|jpe?g|png|webp)/i,T={},U=[],V=null,W=function(a){a.target.id.indexOf("baguette-img")!==-1&&o()},X=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,s()},Y=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,r()},Z=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,o()},$=function(a){Q.count++,Q.count>1&&(Q.multitouch=!0),Q.startX=a.changedTouches[0].pageX,Q.startY=a.changedTouches[0].pageY},_=function(a){if(!R&&!Q.multitouch){a.preventDefault?a.preventDefault():a.returnValue=!1;var b=a.touches[0]||a.changedTouches[0];b.pageX-Q.startX>40?(R=!0,s()):b.pageX-Q.startX<-40?(R=!0,r()):Q.startY-b.pageY>100&&o()}},aa=function(){Q.count--,Q.count<=0&&(Q.multitouch=!1),R=!1},ba=function(a){"block"!==D.style.display||D.contains(a.target)||(a.stopPropagation(),l())};return[].forEach||(Array.prototype.forEach=function(a,b){for(var c=0;c<this.length;c++)a.call(b,this[c],c,this)}),[].filter||(Array.prototype.filter=function(a,b,c,d,e){for(c=this,d=[],e=0;e<c.length;e++)a.call(b,c[e],e,c)&&d.push(c[e]);return d}),{run:a,destroy:C,showNext:r,showPrevious:s}}),function(a){var b="columnizer-original-dom";a.fn.columnize=function(c){function d(a,b){try{a.append(b)}catch(c){a[0].appendChild(b[0])}}this.each(function(){var c=a(this);c.data(b,c.clone(!0,!0))}),this.cols=[],this.offset=0,this.before=[],this.lastOther=0,this.prevMax=0,this.debug=0,this.setColumnStart=null,this.elipsisText="";var e={width:400,columns:!1,buildOnce:!1,overflow:!1,doneFunc:function(){},target:!1,ignoreImageLoading:!0,columnFloat:"left",lastNeverTallest:!1,accuracy:!1,precise:!1,manualBreaks:!1,cssClassPrefix:"",elipsisText:"...",debug:0};return c=a.extend(e,c),"string"==typeof c.width&&(c.width=parseInt(c.width,10),isNaN(c.width)&&(c.width=e.width)),"function"==typeof c.setColumnStart&&(this.setColumnStart=c.setColumnStart),"string"==typeof c.elipsisText&&(this.elipsisText=c.elipsisText),c.debug&&(this.debug=c.debug),c.setWidth||(c.precise?c.setWidth=function(a){return 100/a}:c.setWidth=function(a){return Math.floor(100/a)}),this.each(function(){function b(a,b){var c=b?".":"";return p.length?c+p+"-"+a:c+a}function f(e,f,g,h){for(;(o||g.height()<h)&&f[0].childNodes.length;){var i=f[0].childNodes[0];if(a(i).find(b("columnbreak",!0)).length)return;if(a(i).hasClass(b("columnbreak")))return;d(e,a(i))}if(0!==e[0].childNodes.length){var j=e[0].childNodes,k=j[j.length-1];e[0].removeChild(k);var l=a(k);if(3==l[0].nodeType){var m=l[0].nodeValue,n=c.width/18;c.accuracy&&(n=c.accuracy);for(var p,q=null;g.height()<h&&m.length;){var r=m.indexOf(" ",n);p=r!=-1?m.substring(0,r):m,q=document.createTextNode(p),d(e,a(q)),m=m.length>n&&r!=-1?m.substring(r):""}if(g.height()>=h&&null!==q&&(e[0].removeChild(q),m=q.nodeValue+m),!m.length)return!1;l[0].nodeValue=m}return f.contents().length?f.prepend(l):d(f,l),3==l[0].nodeType}}function g(a,c,e,h){if(!a.contents(":last").find(b("columnbreak",!0)).length&&!a.contents(":last").hasClass(b("columnbreak"))&&c.contents().length){var i=c.contents(":first");if("undefined"==typeof i.get(0)||1!=i.get(0).nodeType)return;var j=i.clone(!0);if(i.hasClass(b("columnbreak")))d(a,j),i.remove();else if(o)d(a,j),i.remove();else if(1==j.get(0).nodeType&&!j.hasClass(b("dontend")))if(d(a,j),j.is("img")&&e.height()<h+20)i.remove();else if(i.hasClass(b("dontsplit"))&&e.height()<h+20)i.remove();else if(j.is("img")||i.hasClass(b("dontsplit")))j.remove();else{if(j.empty(),f(j,i,e,h))i.addClass(b("split"));else{if(i.addClass(b("split")),"OL"==i.get(0).tagName){var k=j.get(0).childElementCount+j.get(0).start;i.attr("start",k+1)}i.children().length&&g(j,i,e,h)}if(0===j.get(0).childNodes.length)j.remove(),i.removeClass(b("split"));else if(1==j.get(0).childNodes.length){var l=j.get(0).childNodes[0];if(3==l.nodeType){var m=/\S/,n=l.nodeValue;m.test(n)||(j.remove(),i.removeClass(b("split")))}}}}}function h(){if(!k.data("columnized")||1!=k.children().length){if(k.data("columnized",!0),k.data("columnizing",!0),k.empty(),k.append(a("<div class='"+b("first")+" "+b("last")+" "+b("column")+" ' style='width:100%; float: "+c.columnFloat+";'></div>")),$col=k.children().eq(k.children().length-1),$destroyable=m.clone(!0),c.overflow){for(targetHeight=c.overflow.height,f($col,$destroyable,$col,targetHeight),$destroyable.contents().find(":first-child").hasClass(b("dontend"))||g($col,$destroyable,$col,targetHeight);$col.contents(":last").length&&i($col.contents(":last").get(0));){var e=$col.contents(":last");e.remove(),$destroyable.prepend(e)}for(var h="",j=document.createElement("DIV");$destroyable[0].childNodes.length>0;){var l=$destroyable[0].childNodes[0];if(l.attributes)for(var n=0;n<l.attributes.length;n++)0===l.attributes[n].nodeName.indexOf("jQuery")&&l.removeAttribute(l.attributes[n].nodeName);j.innerHTML="",j.appendChild($destroyable[0].childNodes[0]),h+=j.innerHTML}var o=a(c.overflow.id)[0];o.innerHTML=h}else d($col,$destroyable.contents());k.data("columnizing",!1),c.overflow&&c.overflow.doneFunc&&c.overflow.doneFunc(),c.doneFunc()}}function i(c){return 3==c.nodeType?!!/^\s+$/.test(c.nodeValue)&&(!!c.previousSibling&&i(c.previousSibling)):1==c.nodeType&&(!!a(c).hasClass(b("dontend"))||0!==c.childNodes.length&&i(c.childNodes[c.childNodes.length-1]))}function j(){if(q=0,n!=k.width()){n=k.width();var e=Math.round(k.width()/c.width),j=c.width,p=c.height;if(c.columns&&(e=c.columns),o&&(e=m.find(b("columnbreak",!0)).length+1,j=!1),e<=1)return h();if(!k.data("columnizing")){k.data("columnized",!0),k.data("columnizing",!0),k.empty(),k.append(a("<div style='width:"+c.setWidth(e)+"%; float: "+c.columnFloat+";'></div>")),x=k.children(":last"),d(x,m.clone()),l=x.height(),k.empty();var r=l/e,s=3,t=!1;c.overflow?(s=1,r=c.overflow.height):p&&j&&(s=1,r=p,t=!0);for(var u=0;u<s&&u<20;u++){k.empty();var v,w,x,y;try{v=m.clone(!0)}catch(z){v=m.clone()}v.css("visibility","hidden");for(var A=0;A<e;A++)w=0===A?b("first"):"",w+=" "+b("column"),w=A==e-1?b("last")+" "+w:w,k.append(a("<div class='"+w+"' style='width:"+c.setWidth(e)+"%; float: "+c.columnFloat+";'></div>"));for(A=0;A<e-(c.overflow?0:1)||t&&v.contents().length;){for(k.children().length<=A&&k.append(a("<div class='"+w+"' style='width:"+c.setWidth(e)+"%; float: "+c.columnFloat+";'></div>")),x=k.children().eq(A),t&&x.width(j+"px"),f(x,v,x,r),g(x,v,x,r);x.contents(":last").length&&i(x.contents(":last").get(0));)y=x.contents(":last"),y.remove(),v.prepend(y);A++,0===x.contents().length&&v.contents().length?x.append(v.contents(":first")):A!=e-(c.overflow?0:1)||c.overflow||v.find(b("columnbreak",!0)).length&&e++}if(c.overflow&&!t){var B=!1,C=document.all&&navigator.appVersion.indexOf("MSIE 7.")!=-1;if(B||C){for(var D="",E=document.createElement("DIV");v[0].childNodes.length>0;){var F=v[0].childNodes[0];for(A=0;A<F.attributes.length;A++)0===F.attributes[A].nodeName.indexOf("jQuery")&&F.removeAttribute(F.attributes[A].nodeName);E.innerHTML="",E.appendChild(v[0].childNodes[0]),D+=E.innerHTML}var G=a(c.overflow.id)[0];G.innerHTML=D}else a(c.overflow.id).empty().append(v.contents().clone(!0))}else if(t)k.children().each(function(a){x=k.children().eq(a),x.width(j+"px"),0===a?x.addClass(b("first")):a==k.children().length-1?x.addClass(b("last")):(x.removeClass(b("first")),x.removeClass(b("last")))}),k.width(k.children().length*j+"px");else{x=k.children().eq(k.children().length-1),v.contents().each(function(){x.append(a(this))});var H=(x.height(),0),I=1e7,J=0,K=!1,L=0;k.children().each(function(a){return function(c){var d=a.children().eq(c),e=d.children(":last").find(b("columnbreak",!0)).length;if(!e){var f=d.height();K=!1,H+=f,f>J&&(J=f,K=!0),f<I&&(I=f),L++}}}(k));var M=H/L;0===H?u=s:c.lastNeverTallest&&K?(q+=5,r+=30,u==s-1&&s++):J-I>30?r=M+30:Math.abs(M-r)>20?r=M:u=s}k.append(a("<br style='clear:both;'>"))}k.find(b("column",!0)).find(":first"+b("removeiffirst",!0)).remove(),k.find(b("column",!0)).find(":last"+b("removeiflast",!0)).remove(),k.find(b("split",!0)).find(":first"+b("removeiffirst",!0)).remove(),k.find(b("split",!0)).find(":last"+b("removeiflast",!0)).remove(),k.data("columnizing",!1),c.overflow&&c.overflow.doneFunc(),c.doneFunc()}}}var k=a(c.target?c.target:this),l=a(this).height(),m=a("<div></div>"),n=0,o=c.manualBreaks,p=e.cssClassPrefix;"string"==typeof c.cssClassPrefix&&(p=c.cssClassPrefix);var q=0;if(d(m,a(this).contents().clone(!0)),!c.ignoreImageLoading&&!c.target&&!k.data("imageLoaded")&&(k.data("imageLoaded",!0),a(this).find("img").length>0)){var r=function(a,b){return function(){a.data("firstImageLoaded")||(a.data("firstImageLoaded","true"),d(a.empty(),b.children().clone(!0)),a.columnize(c))}}(a(this),m);return a(this).find("img").one("load",r),void a(this).find("img").one("abort",r)}k.empty(),j(),c.buildOnce||a(window).resize(function(){c.buildOnce||(k.data("timeout")&&clearTimeout(k.data("timeout")),k.data("timeout",setTimeout(j,200)))})})},a.fn.uncolumnize=function(){this.each(function(){var c,d=a(this);(c=d.data(b))&&d.replaceWith(c)})},a.fn.renumberByJS=function(b,c,d,e){if(this.setList=function(b,c,d){var e,f=this.before.parents();if(e=a(b[this.offset-1]).find(">*"),e.last()[0].tagName!=d.toUpperCase())return this.debug&&console.log("Last item in previous column, isn't a list..."),0;e=e.length;var g=1;if(g=this.lastOther<=0?this.before.children().length+1:a(f[this.lastOther]).children().length+1,a(b[this.offset]).find(d+":first li.split").length){var h=a(b[this.offset-1]).find(d+":last li:last");if(""===this.elipsisText||a(b[this.offset-1]).find(d+":last ~ div").length||a(b[this.offset-1]).find(d+":last ~ p").length);else if(0==a(h).find("ul, ol, dl").length){var i=h.last().text(),j=i.length;";"==i.substring(j-1)?i.substring(j-4)!=this.elipsisText+";"&&(i=i.substring(0,j-1)+this.elipsisText+";"):i.substring(j-3)!=this.elipsisText&&(i+=this.elipsisText),h.last().text(i)}0==a(b[this.offset]).find(d+":first >li.split >"+d).length&&g--}if(1==e&&(g+=this.prevMax),this.nest>1){this.debug&&console.log("Supposed to be a nested list...decr"),g--;var k=a(b[this.offset-1]).find(d+":first li.split:first");k.length>0&&(this.debug&&console.log("Previous column started with a split item, so that count is one less than expected"),g--),k=a(b[this.offset]).find(d+":first li:first").clone(),k.children().remove(),a.trim(k.text()).length>0&&(this.debug&&console.log("If that was a complete list in the previous column, don't decr."),g++,0==a(b[this.offset-1]).find(">"+d+":last ").children().length&&(this.debug&&console.log("unless that was empty, in which case revert"),g--))}else{var k=a(b[this.offset]).find(d+":first li:first "+d+".split li.split");k.length>0&&(this.debug&&console.log("[Nested] Column started with a split item, so that count is one less than expected"),g--)}return this.debug&&console.log("Setting the start value to "+g+" ("+this.prevMax+")"),g>0&&("function"==typeof this.setColumnStart?this.setColumnStart(c,g):c.attr("start",g)),0},"undefined"==typeof d&&(d=!1),"undefined"==typeof e&&(e=!1),!d&&!e)throw"renumberByJS(): Bad param, must pass an id or a class";var f="";this.prevMax=1,f=e?"."+e:"#"+d;var g=b.toLowerCase(),h=b.toUpperCase();for(this.cols=a(f),this.debug&&console.log("There are "+this.cols.length+" items, looking for "+g),this.before=a(this.cols[0]).find(g+":last"),this.prevMax=this.before.children().length,this.offset=1;this.offset<this.cols.length;this.offset++)if(this.debug&&console.log("iterating "+this.offset+"...[of "+this.cols.length+"]"),this.offset%c!=0){if(this.before=a(this.cols[this.offset-1]).find(g+":last"),this.before.length){this.debug&&console.log("Have some "+b+" elements in the previous column");var i=a(this.cols[this.offset]).find(g+":first"),j=a(this.cols[this.offset]).find("*:first");if(j[0]!==i[0])continue;var k=this.before.parents();this.lastOther=0;for(var l=!1;this.lastOther<k.length;this.lastOther++)if(k[this.lastOther].tagName!=h&&"LI"!=k[this.lastOther].tagName){l=!0,this.lastOther--;break}this.nest=1,a(this.cols[this.offset]).find(">"+g+":first li "+g+":first").length&&(this.nest=2),this.setList(this.cols,i,g),this.lastOther--,i=a(this.cols[this.offset]).find(g+":first li "+g+":first"),i.length&&(this.before=a(this.cols[this.offset-1]).find(">"+g+":last li "+g+":last"),this.prevMax=0,this.nest=1,this.setList(this.cols,i,g));var m=a(this.cols[this.offset-1]).find(">"+g+":last");this.prevMax=m.children().length}}else this.debug&&console.log("First column (in theory..)"),this.prevMax=1;return 0}}(jQuery),$(document).ready(function(){});

/* Lightboxs hide - ESC button */
$(document).on("keyup",function(e){27==e.keyCode&&(
	$('.lightbox').removeClass('lightbox--active')
)});

$(document).ready(function() {
	try {
		baguetteBox.run(".gallery");
		0 == Modernizr.csscolumns && $(".text-cols--3").columnize({columns: 3});
	} catch {}

	try {
		baguetteBox.run(".gallery_people");
		0 == Modernizr.csscolumns && $(".text-cols--3").columnize({columns: 3});
	} catch {}

	/* Lightbox show */
	$('.js-show-lightbox').click(function(){
		$('.lightbox').addClass('lightbox--active');
		document.body.scrollTop = 0; // For Safari
    	document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
	});

	/* Lightbox hide */
	$('.lightbox .lightbox__close').click(function() {
		$('.lightbox').removeClass('lightbox--active');
	});

	$('.js-show-lightbox-sec').click(function(ev){
		$('.lightbox').removeClass('lightbox--active');
		$('.lightbox-sec').addClass('lightbox--active');
		document.body.scrollTop = 0; // For Safari
    	document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
	});

	$('.lightbox-sec .lightbox__close').click(function() {
		$('.lightbox-sec').removeClass('lightbox--active');
	});

	$('.newsletter__form input[name=action]').on('change', function(ev) {
		var newsletter_form = $(ev.target).closest('form.newsletter__form');
		newsletter_form.find('input[name=privacy]')[0].required = (ev.target.value === 'subscribe');
	});
});
